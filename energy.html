<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>neuto energy</title>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/style_energy.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.min.css">
    <script src="js/jquery-3.5.1.min.js"></script>
    <!-- <script src="https://code.jquery.com/ui/1.13.0/jquery-ui.js"></script> -->
    <!-- <link rel="stylesheet" type="text/css" href="https://coco-factory.jp/ugokuweb/wp-content/themes/ugokuweb/data/reset.css"> -->
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css">
<!-- <link rel="stylesheet" type="text/css" href="https://coco-factory.jp/ugokuweb/wp-content/themes/ugokuweb/data/6-1-2/css/6-1-2.css"> -->
<script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
<!-- <script src="https://coco-factory.jp/ugokuweb/wp-content/themes/ugokuweb/data/6-1-2/js/6-1-2.js"></script> -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.min.js"></script>
  </head>


  <body>
      <header>
          <div class="headere">
              <div class="cologo"> <a href="./energy.html"><img class="headerpic" src="./img/neuto energy.png" alt=""></a></div>
              <div> <a href="#simu" class="btn bgleft"><span>料金シミュレーションはこちら</span></a></div>
          </div>
        <div class="wrapper">
            <h1 class="h1state">neuto energy
            </h1>
            <div class="state"> 新しいカーボンニュートラルな生活様式を提案します。 </div>  

            <ul class="slider">
              <li class="slider-item slider-item01"></li>
              <li class="slider-item slider-item02"></li>
              <li class="slider-item slider-item03"></li>
            </ul>
          <!--/wrapper--></div>  
      </header>

      <!-- bgextend bgLRextend  bgappear-->
<div class=background>
<div class="POINT1">
    <div class="POINT2">
        <div class="center topline">neuto電気の特徴</div>
       <div class="center">         
        <div class="sector">
            <section class="hover">
                <div class="hover-img">
                  <img src="./img/river/river003.jpg" alt="river">
                </div>
                <div class="hover-text">
                <p class="text1">POINT1: <br> 再エネ100%電気</p>
                  <p class="text2">カーボンニュートラルを共に目指す皆様に <br> 水力発電所からの再エネ電気をお届け</p>
                </div>
              </section>
        </div>
        <div class="sector"> 
            <div>
                
            </div>
            <section class="hover">
           
                <div class="hover-img">
                    <img src="./img/plane.jpeg" alt="plane">
                </div>
                <div class="hover-text">
                    <p class="text1">POINT2: <br> 貯めれるカーボンクレジット</p>
                    <p class="text2">電力利用によるCO2抑制量に応じて <br> 便利なクレジットを発行。</p>
                </div>
              </section>  
        </div>
        <div class="sector">
            <section class="hover">
                <div class="hover-img">
                  <img src="./img/tsumitate.jpeg" alt="plane">
                </div>
            
                <div class="hover-text">
                <p class="text1">POINT3: <br> 継続利用に応じて割引！</p>
                  <p class="text2">契約継続頂く毎に基本料金を0.5%割引 <br> (最大10年以降5%常時割引)</p>
                </div>
              </section>  
        </div>


        </div>
       </div>

</div>

<div class="PLAN1">
        <div class="PLAN2">
            <div class="center topline">
                    電力プランのご説明
            </div>  
     
            <div class="center">                    
                <div class="sector1">
                    <div class="plantitle">Carbon Neutral PLAN</div>
                    <div class="planexp">100%水力発電所で発電されたプラン<br>共にカーボンニュートラルな取組を実践していきましょう！ </div>
                    <div><img class="planpic" src="./img/DAM2.jpeg" alt=""></div>
                    <!-- animated" data-animate="flip -->
                    <table class="plantable">
                        <tr><th colspan="2">価格表(税込)</th></tr>
                        <tr>
                            <th>基本料金</th>
                            <td class="plantablekakaku">286円/10A</td>
                        </tr>
                        <tr>
                            <th>従量料金</th>
                            <td class="plantablekakaku">24.5円/kWh</td>
                        </tr>
                        <tr>
                            <th>特典</th>
                            <td class="plantabletokuten">
                                <ul>
                                    <li>・子供と参加できる発電所&ダム見学ツアー</li>
                                    <li>・沼沢湖畔のサウナプロジェクトへの参加</li>
                                    <li>・グリーンクレジット還元率1%</li>
                                    <li>・四半期毎にneuto便りをお届け</li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </div>
    
                <div class="sector1">
                    <div class="plantitle">Entry PLAN</div>
                    <div class="planexp">初めてお使いになる方向け用50%CO2オフセット電気<br>気軽にできることから始めていきましょう！ </div>
                    <div><img class="planpic" src="./img/ecorump2.jpeg" alt=""></div>
                    <!-- animated" data-animate="flip -->
                    <table class="plantable">
                        <tr><th colspan="2">価格表(税込)</th></tr>
                        <tr>
                            <th>基本料金</th>
                            <td class="plantablekakaku">286円/10A</td>
                        </tr>
                        <tr>
                            <th>従量料金</th>
                            <td class="plantablekakaku">23.5円/kWh</td>
                        </tr>
                        <tr>
                            <th>特典</th>
                            <td class="plantabletokuten">
                                <ul>
                                    <li>・グリーンクレジット還元率0.7%</li>
                                    <li>・四半期毎にneuto便りをお届け</li>
                                    <li>・(Coming Soon)</li>
                                    <li>・(Coming Soon) </li>
                                </ul>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>


        <div class="SIMU1" id="simu">
            <div class="SIMU2">

            <div class="center topline">
             料金シミュレーション    
            </div>
            <div class="center docu">
                価格・CO2への貢献度を比較シミュレーションします。
            </div>

            <div class="sector">
                <div class="docu"><select name="month" id="month" class="selectbox color"></select>月の使用量<input type="text" id="watt" >kWh</div>
                <div class="docu">ご自宅のアンペア数：<select name="ampere" id="ampere"></select>  A      <button id="submit">計算する</button></div>
            </div>
            <!-- <div class="sector" id="output" class="docu"></div> -->
            <div class="sector">
            <canvas id="myChart" class="chartarea sector"></canvas>
            </div>
            <div class="sector" id="sum" class="docu"></div>
            <div class="sector">
                <table class="sector tablearea" id="resulttable">
                    <tr>
                        <th></th>
                        <td>Carbon Neutral PLAN</td>
                        <td>Entry PLAN</td>
                    </tr>
                    <tr>
                        <th>価格</th>
                        <td id="CNprice"></td>
                        <td id="ENprice"></td>
                    </tr>
                    <tr>
                        <th>CO2削減量</th>
                        <td id="CO2"></td>
                        <td id="CO2e"></td>
                    </tr>
                </table>    
            </div>


        
        </div>
    </div>

        <div class="SUBSCRI1" id="simu">
            <div class="SUBSCRI2">
        <div class="center topline">
            申込ページ  
           </div>
        <div class=sector>
            <table>
                <tr>
                    <td class=format>名前：</td>
                    <td class=format><input type="text" id="uname"></td>
                </tr>
                <tr>
                    <td class=format>住所：</td>
                    <td class=format><input type="text" id="address"></td>
                </tr>
                <tr>
                    <td class=format>電話番号：</td>
                    <td class=format><input type="text" id="tel"></td>
                </tr>
                <tr>
                    <td class=format>メールアドレス：</td>
                    <td class=format><input type="text" id="email"></td>
                </tr>
                <tr>
                    <td class=formata>plan：</td>
                    <td class=formata><select name="" id="plan" >
                        <option value="">(選択してください)</option>
                        <option value="Carbon Neutral PLAN">Carbon Neutral PLAN</option>
                        <option value="Entry PLAN">Entry PLAN</option></select>
                    </td>
                </tr>
            </table>
            <div class="center"><button id="confirm">確認</button></div>
        </div>
    </div>
    <div id="outputs" class="docu"></div>
    </div>  

</div>

<footer class="footer">
    <div class="CR">本サイトは講習用に私的に作成したものです。</div>
</footer>



  </body>

<!-- ========================================================= -->


<script>  
    //Simulation//
    let monthHTML = '';
    for(let i=1; i<13; i++){
        monthHTML += '<option value="'+i+'">'+i+'</option>';
    }
    $('#month').html(monthHTML);

    let ampereHTML = '';
    for(let i=1; i<6; i++){
        ampereHTML += '<option value="'+i*10+'">'+i*10+'</option>';
    }
    $('#ampere').html(ampereHTML);
//Simulation 使用量//
    const kWh_year=[429.3,372.4,311.5,270,260.4,259.5,331.1,403,324,257.3,297,393.7];
    var kWh_sim=[];
    var SUM=0;
    $('#myChart').hide();
    $('#resulttable').hide();
    $('#submit').on('click',function(){
        const kWh_year=[429.3,372.4,311.5,270,260.4,259.5,331.1,403,324,257.3,297,393.7];
    var kWh_sim=[];
    var SUM=0;

        const m= $("#month").val()-1;
        const kWh= $("#watt").val();
        const Amp=$("#ampere").val();
        for(i=0;i<kWh_year.length;i++){
            kWh_sim[i]=kWh*kWh_year[i]/kWh_year[m];
            var mon=i+1;
            SUM +=kWh_sim[i];
            // $('#output').append("<div class='docu'>"+mon+"月："+kWh_sim[i].toPrecision(4)+"</div>");
            $('#sum').html("<div class='docu'>総使用量："+Math.floor(Number(SUM)).toLocaleString()+"kWh</div>");
        }
        var totalcost=sim_cost(SUM,Amp);
        var totalcoste=sim_coste(SUM,Amp);
        var totalTODEN=sim_TODEN(SUM,Amp);
        var totalCO2=sim_CO2(SUM);
        var totalCO2e=sim_CO2e(SUM);
        var sugi=totalCO2/190;
        var sugie=totalCO2e/190;
        var difference=totalcost-totalTODEN
        var edifference=totalcoste-totalTODEN

        $('#myChart').show();
        $('#resulttable').show();

        new Chart(document.getElementById("myChart"), {
            type: "line",
            data: {
                labels: ["1月","2月","3月","4月","5月","6月","7月","8月","9月", "10月","11月","12月"],
                datasets: [{
                    label:"予想消費電力量(kWh)",
                    data:kWh_sim,
                    borderColor: 'rgba(255, 100, 100, 1)'
                }]
            }
        });
        
        $('#sum').html("<div class='docu'>金額："+Math.floor(Number(totalcost)).toLocaleString()+"円(東京電力比較で年間"+Math.floor(Number(difference)).toLocaleString()+"分お安く提供！)</div>");
        $('#sum').html("<div class='docu'>CO2抑制量："+Math.floor(Number(totalCO2)).toLocaleString()+"kg、杉の木換算で"+Math.floor(Number(sugi)).toLocaleString()+"本分の貢献です！</div>")
        
        
        $('#CNprice').html("<div class=docu>"+Math.floor(Number(totalcost)).toLocaleString()+"円<br>(東京電力比"+Math.floor(Number(difference)).toLocaleString()+"円！)</div>");
        $('#ENprice').html("<div class=docu>"+Math.floor(Number(totalcoste)).toLocaleString()+"円<br>(東京電力比"+Math.floor(Number(edifference)).toLocaleString()+"円！)</div>");
        $('#CO2').html("<div class=docu>"+Math.floor(Number(totalCO2)).toLocaleString()+"kg<br>(杉の木"+Math.floor(Number(sugi)).toLocaleString()+"本分貢献！)</div>");
        $('#CO2e').html("<div class=docu>"+Math.floor(Number(totalCO2e)).toLocaleString()+"kg<br>(杉の木"+Math.floor(Number(sugie)).toLocaleString()+"本分貢献！)</div>");
    })


function sim_cost(SUM,Amp){
    totalcost=Amp*12*286+SUM*24.5;
    return totalcost;
}

function sim_coste(SUM,Amp){
    totalcost=Amp*12*286+SUM*23.5;
    return totalcost;
}

function sim_TODEN(SUM,Amp){
    totalTODEN=Amp*12*286+SUM*25;
    return totalTODEN;
}

function sim_CO2(SUM){
    totalCO2=SUM*0.441;
    return totalCO2;
}

function sim_CO2e(SUM){
    totalCO2=SUM*0.441*0.5;
    return totalCO2;
}

// header
$('.slider').slick({
    fade:true,//切り替えをフェードで行う。初期値はfalse。
    autoplay: true,//自動的に動き出すか。初期値はfalse。
    autoplaySpeed: 3000,//次のスライドに切り替わる待ち時間
    speed:1000,//スライドの動きのスピード。初期値は300。
    infinite: true,//スライドをループさせるかどうか。初期値はtrue。
    slidesToShow: 1,//スライドを画面に3枚見せる
    slidesToScroll: 1,//1回のスクロールで3枚の写真を移動して見せる
    arrows: true,//左右の矢印あり
    prevArrow: '<div class="slick-prev"></div>',//矢印部分PreviewのHTMLを変更
    nextArrow: '<div class="slick-next"></div>',//矢印部分NextのHTMLを変更
    dots: true,//下部ドットナビゲーションの表示
        pauseOnFocus: false,//フォーカスで一時停止を無効
        pauseOnHover: false,//マウスホバーで一時停止を無効
        pauseOnDotsHover: false,//ドットナビゲーションをマウスホバーで一時停止を無効
});

//POINT 出し方
// 画面をスクロールをしたら動かしたい場合の記述
$(window).scroll(function (){
    fadeAnime1();
    fadeAnime2();
    fadeAnime3();
    fadeAnime4();
    fadeAnime5();
    fadeAnime6();
    fadeAnime7();
    fadeAnime8();
  });


function fadeAnime1(){
$('.POINT1').each(function(){ 
var elemPos = $(this).offset().top; 
var scroll = $(window).scrollTop();
var windowHeight = $(window).height();
if (scroll >= elemPos-windowHeight/4){
$(this).addClass('bgextend');
$(this).addClass('bgLRextend');
}
});
}
function fadeAnime2(){
$('.POINT2').each(function(){ 
var elemPos = $(this).offset().top; 
var scroll = $(window).scrollTop();
var windowHeight = $(window).height();
if (scroll >= elemPos-windowHeight/4 ){
$(this).addClass('bgappear');
}
});
}
function fadeAnime3(){
$('.PLAN1').each(function(){ 
var elemPos = $(this).offset().top; 
var scroll = $(window).scrollTop();
var windowHeight = $(window).height();
if (scroll >= elemPos-windowHeight/4){
$(this).addClass('bgextend');
$(this).addClass('bgRLextend');
}
});
}
function fadeAnime4(){
$('.PLAN2').each(function(){ 
var elemPos = $(this).offset().top; 
var scroll = $(window).scrollTop();
var windowHeight = $(window).height();
if (scroll >= elemPos-windowHeight/4 ){
$(this).addClass('bgappear');
}
});
}

function fadeAnime5(){
$('.SIMU1').each(function(){ 
var elemPos = $(this).offset().top; 
var scroll = $(window).scrollTop();
var windowHeight = $(window).height();
if (scroll >= elemPos-windowHeight/6){
$(this).addClass('bgextend');
$(this).addClass('bgLRextend');
}
});
}
function fadeAnime6(){
$('.SIMU2').each(function(){ 
var elemPos = $(this).offset().top; 
var scroll = $(window).scrollTop();
var windowHeight = $(window).height();
if (scroll >= elemPos-windowHeight/6){
$(this).addClass('bgappear');
}
});
}
function fadeAnime7(){
$('.SUBSCRI1').each(function(){ 
var elemPos = $(this).offset().top; 
var scroll = $(window).scrollTop();
var windowHeight = $(window).height();
if (scroll >= elemPos-windowHeight/4){
$(this).addClass('bgextend');
$(this).addClass('bgRLextend');
}
});
}
function fadeAnime8(){
$('.SUBSCRI2').each(function(){ 
var elemPos = $(this).offset().top; 
var scroll = $(window).scrollTop();
var windowHeight = $(window).height();
if (scroll >= elemPos-windowHeight/4 ){
$(this).addClass('bgappear');
}
});
}






</script>

<!-- JQuery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<!-- JQuery -->

<script type="module">
 // Import the functions you need from the SDKs you need
 import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.0/firebase-app.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries
  import { getDatabase, ref, push, set, onChildAdded, remove, onChildRemoved }
        from "https://cdnjs.cloudflare.com/ajax/libs/firebase/9.6.0/firebase-database.min.js";
  // Your web app's Firebase configuration
  const firebaseConfig = {
    apiKey: "",
    authDomain: "jscup-f93e7.firebaseapp.com",
    projectId: "jscup-f93e7",
    storageBucket: "jscup-f93e7.appspot.com",
    messagingSenderId: "1005061147966",
    appId: "1:1005061147966:web:46c610d96bbdb75600306f"
  };
  


    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app); 
    const dbRef =ref(db,"subscribe");

    $('#confirm').on('click',function() {
        // console.log("click");
        const uname=$("#uname").val();//valを使用するとidの内容を取得可能
        const tel = $("#tel").val();
        const email = $("#email").val();
        const address=$("#address").val();
        var plan= document.getElementById("plan").value;

        const msg={
            uname: uname,
            address: address,
            tel: tel,
            email: email,
            plan: plan,
        };
          
        console.log(msg);
        const newPostRef =push(dbRef); 
        set(newPostRef,msg);
        
        if (confirm('ページ遷移しますか？')) {
    window.location.href = './seni.html';
  }

    });

//     onChildAdded(dbRef, function (data) {
//     const msg = data.val();
//     const key = data.key;
//     let h = "<p>";
//     h += msg.uname;
//     h += "<br>";
//     h += msg.address;
//     h += "<br>";
//     h += msg.tel;
//     h += "<br>";
//     h += msg.email;
//     h += "<br>";
//     h += msg.plan;
//     h += "</p>";
//     $("#outputs").append(h); // #output
// });



  </script>